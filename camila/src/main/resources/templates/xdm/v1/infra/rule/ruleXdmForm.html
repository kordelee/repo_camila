<!DOCTYPE html>
<html lang="ko">

<div th:replace="~{xdm/v1/infra/include/head :: head}"></div>

<body>

<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">

<div th:replace="~{xdm/v1/infra/include/leftMenu :: leftMenu}"></div>          
      
<div th:replace="~{xdm/v1/infra/include/top :: top}"></div>         
      
<div class="content">
	<nav class="mb-2" aria-label="breadcrumb">
		<ol class="breadcrumb mb-0">
			<li class="breadcrumb-item"><a href="#!">Page 1</a></li>			<!-- ### -->
			<li class="breadcrumb-item"><a href="#!">Page 2</a></li>			<!-- ### -->
			<li class="breadcrumb-item active">Default</li>								<!-- ### -->
		</ol>
	</nav>
	<div class="mb-9">
	  	<div class="row g-3 mb-4">
	    	<div class="col-auto">
	      		<h2 class="mb-0">정책관리</h2>														<!-- ### -->
	    	</div>
	  	</div>
		<div class="card shadow-none border border-300 my-4" data-component-card="data-component-card">
			<div class="card-header p-4 border-bottom border-300 bg-soft">
				<div class="row g-3 justify-content-between align-items-center">
					<div class="col-12 col-md">
						<h4 class="text-900 mb-0">기본정보</h4>
					</div>
				</div>
			</div>
			<div class="card-body p-0">
				<div class="p-4 code-to-copy">
					<form id="form" name="form" method="post" autocomplete="off" enctype="multipart/form-data" class="row g-3 needs-validation" novalidate="">
			
<div th:replace="~{xdm/v1/infra/rule/RuleXdmVo :: vo}"></div>			<!-- ### --> 					

<div class="col-md-3">
	<label for="ifrlSeq" class="form-label fs--1">코드 <span class="text-danger fs-0">*</span></label>
	<input type="text" id="ifrlSeq" name="ifrlSeq" th:value="${item?.ifrlSeq}" maxlength="20" placeholder="자동생성" disabled class="form-control"/>
</div>
<div class="col-md-9">
	<!-- empty -->
</div>
<div class="col-md-3">
	<label for="ifrlUseNy" class="form-label fs--1">사용 <span class="text-danger fs-0">*</span></label>
	<select id="ifrlUseNy" name="ifrlUseNy" class="form-select">
		<option value="1" th:selected="${item?.ifrlUseNy == 1}">사용</option>
		<option value="0" th:selected="${item?.ifrlUseNy == 0}">미사용</option>
	</select>
	<div class="invalid-feedback" id="ifrlUseNyFeedback"></div>
</div>
<div class="col-md-9">
	<!-- empty -->
</div>
<div class="col-md-3">
	<label for="ifrlVersion" class="form-label fs--1">정책 버전<span class="text-danger fs-0">*</span></label>
	<input type="text" id="ifrlVersion" name="ifrlVersion" th:value="${item?.ifrlVersion}" maxlength="20" placeholder="숫자,영어" class="form-control"/>
	<div class="invalid-feedback" id="ifrlVersionFeedback"></div>
</div>
<div class="col-md-9">
	<!-- empty -->
</div>
<div class="col-md-6">
	<label for="ifrlTitle" class="form-label fs--1">정책 이름</label>
	<input type="text" id="ifrlTitle" name="ifrlTitle" th:value="${item?.ifrlTitle}" maxlength="20" placeholder="한글,숫자" class="form-control"/>
	<div class="invalid-feedback" id="ifrlTitleFeedback"></div>
</div>
<div class="col-md-6">
	<!-- empty -->
</div>
<div class="col-md-6">
	<label class="form-label fs--1">내용</label>
	<div class="controls">
		<input type="hidden" id="ifrlContents" name="ifrlContents">							
	  	<div id="ifrlContentsEditor" th:utext="${item?.ifrlContents}"></div>
	  	<div class="invalid-feedback" id="ifrlContentsFeedback"></div>
<!-- 		<textarea class="form-control" id="ifrlDesc" name="ifrlDesc" th:text="${item?.ifrlDesc}" th:value="${item?.ifrlDesc}" style="height: 100px;"></textarea> -->
<!-- 		<div class="invalid-feedback" id="ifcgDescFeedback"></div> -->
	</div>
</div>
<div class="col-md-6">
	<!-- empty -->
</div>
<div class="col-md-3">
	<label for="ifrlStartDateTime" class="form-label fs--1">시작일<span class="text-danger fs-0">*</span></label>
	<input type="text" id="ifrlStartDateTime" name="ifrlStartDateTime" th:value="${item?.ifrlStartDateTime}" maxlength="20" placeholder="정책 시작일" class="form-control"/>
	<div class="invalid-feedback" id="ifrlStartDateTimeFeedback"></div>
</div>
<div class="col-md-3">
	<label for="ifrlEndDateTime" class="form-label fs--1">종료일<span class="text-danger fs-0">*</span></label>
	<input type="text" id="ifrlEndDateTime" name="ifrlEndDateTime" th:value="${item?.ifrlEndDateTime}" maxlength="20" placeholder="정책 종료일" class="form-control"/>
	<div class="invalid-feedback" id="ifrlEndDateTimeFeedback"></div>
</div>
<div class="col-md-3">
	<label for="ifrlNoticeDateTime" class="form-label fs--1">공지일<span class="text-danger fs-0">*</span></label>
	<input type="text" id="ifrlNoticeDateTime" name="ifrlNoticeDateTime" th:value="${item?.ifrlNoticeDateTime}" maxlength="20" placeholder="정책 공지일" class="form-control"/>
	<div class="invalid-feedback" id="ifrlNoticeDateTimeFeedback"></div>
</div>
<div class="col-md-3">
	<!-- empty -->
</div>		
<div class="col-md-6">
	<label class="form-label fs--1">설명</label>
	<div class="controls">
		<input type="hidden" id="ifrlDesc" name="ifrlDesc">							
	  	<div id="ifrlDescEditor" th:utext="${item?.ifrlDesc}"></div>
	  	<div class="invalid-feedback" id="ifrlDescFeedback"></div>
<!-- 		<textarea class="form-control" id="ifrlDesc" name="ifrlDesc" th:text="${item?.ifrlDesc}" th:value="${item?.ifrlDesc}" style="height: 100px;"></textarea> -->
<!-- 		<div class="invalid-feedback" id="ifcgDescFeedback"></div> -->
	</div>
</div>
<div class="col-md-6">
	<!-- empty -->
</div>
<th:block th:if="${not #strings.isEmpty(item?.ifrlSeq)}">			
	<div th:replace="~{xdm/v1/infra/include/regmod :: regmod}"></div>   						
</th:block>					
										
<div class="col-12">
	<div class="row">
		<div class="col-6 text-start">
			<button type="button" id="btnList" class="btn btn-outline-secondary btn-sm btn_custom"><i class="fa-solid fa-list fa-lg"></i></button>
<th:block th:if="${not #strings.isEmpty(item?.ifrlSeq)}">									
			<button type="button" id="btnDelete" class="btn btn-danger btn-sm btn_custom"><i class="fa-solid fa-x fa-lg"></i></button>
			<button type="button" id="btnUelete" class="btn btn-danger btn-sm btn_custom"><i class="fa-regular fa-trash-can fa-lg"></i></button>
</th:block>
		</div>
		<div class="col-6 text-end">
<!-- 									<button type="button" id="btnForm" class="btn btn-primary btn-sm btn_custom"><i class="fa-regular fa-pen-to-square fa-lg"></i></button> -->
			<button type="button" id="btnSubmit" class="btn btn-primary btn_custom"><i class="fa-solid fa-database fa-lg"></i></button>
		</div>
	</div>          
</div>

					</form>
				</div>
			</div>
		</div>
	</div>

<div th:replace="~{xdm/v1/infra/include/footer :: footer}"></div>   

</div>

<form name="formVo" method="post">
	<div th:replace="~{xdm/v1/infra/rule/ruleXdmVo :: vo}"></div>			<!-- ### -->
</form>

<script>
	var navbarTopStyle = window.config.config.phoenixNavbarTopStyle;
	var navbarTop = document.querySelector('.navbar-top');
	
	if (navbarTopStyle === 'darker') {
		navbarTop.classList.add('navbar-darker');
	}

	var navbarVerticalStyle = window.config.config.phoenixNavbarVerticalStyle;
	var navbarVertical = document.querySelector('.navbar-vertical');
	if (navbarVertical && navbarVerticalStyle === 'darker') {
		navbarVertical.classList.add('navbar-darker');
	}
</script>
      
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->

<div th:replace="~{xdm/v1/infra/include/customize :: customize}"></div>

<div th:replace="~{xdm/v1/infra/include/modal :: modal}"></div>

<div th:replace="~{xdm/v1/infra/include/linkJs :: linkJs}"></div>

<script type="text/javascript">

	window.addEventListener('load', function() {
		$("#ifrlStartDateTime,#ifrlEndDateTime,#ifrlNoticeDateTime").datetimepicker({
			timepicker:false,
				format: 'Y/m/d'
		});
	});
	
	let goUrlXdmList = "/v1/infra/rule/ruleXdmList";						/* ### */
	let goUrlXdmAjaxList = "/v1/infra/rule/ruleXdmAjaxList";		/* ### */
	let goUrlXdmInst = "/v1/infra/rule/ruleXdmInst";						/* ### */
	let goUrlXdmUpdt = "/v1/infra/rule/ruleXdmUpdt";						/* ### */
	let goUrlXdmDele = "/v1/infra/rule/ruleXdmDele";						/* ### */
	let goUrlXdmUele = "/v1/infra/rule/ruleXdmUele";						/* ### */
	
	let seq = document.querySelector("input[name=ifrlSeq]");							/* ### */
	
	let ifrlContents = document.getElementById("ifrlContents");						/* ### */
	let ifrlDesc = document.getElementById("ifrlDesc");								/* ### */
	
    const ifrlContentsEditor = new toastui.Editor({
        el: document.querySelector('#ifrlContentsEditor'),
        height: '300px',
//         initialEditType: 'markdown',
        initialEditType: 'wysiwyg',
//         initialValue: '내용을 입력해 주세요.',
        previewStyle: 'vertical'
    });
	
	
    const ifrlDescEditor = new toastui.Editor({
        el: document.querySelector('#ifrlDescEditor'),
        height: '300px',
//         initialEditType: 'markdown',
        initialEditType: 'wysiwyg',
//         initialValue: '내용을 입력해 주세요.',
        previewStyle: 'vertical'
    });
	
	function validationInst() {
	    if(validationUpdt() == false) return false;
	    ifrlContents.value = ifrlContentsEditor.getHTML();
	    ifrlDesc.value = ifrlDescEditor.getHTML();
	}
	
	
	function validationUpdt() {
 		if(!checkOnlyKoreanNumber('ifrlTitle', 2, 0, "정책은 한글과 숫자만 입력 가능합니다.")) return false;
 		if(!checkOnlyEnglishNumber('ifrlVersion', 2, 0, "정책 버전은 영어와 숫자만 입력 가능합니다.")) return false;
// 		if(!checkSelectNull('ifrlUseNy', 2, 1, "사용여부를 선택해주세요")) return false;
// 		if(!checkOnlyNumber('ifcgOrder', 2, 0, 1, 0, 255, "순서는 숫자(0~255)만 입력 가능합니다.")) return false;
//  		if(!checkOnlyEnglishNumber('ifcgReferenceV1', 2, 1, "예비1 (varchar type)은 영문대소문자, 숫자만 입력 가능합니다.")) return false;
//  		if(!checkOnlyEnglishNumber('ifcgReferenceV2', 2, 1, "예비2 (varchar type)은 영문대소문자, 숫자만 입력 가능합니다.")) return false;
//  		if(!checkOnlyEnglishNumber('ifcgReferenceV3', 2, 1, "예비3 (varchar type)은 영문대소문자, 숫자만 입력 가능합니다.")) return false;
//  		if(!checkOnlyEnglishNumber('ifcgReferenceV4', 2, 1, "예비4 (varchar type)은 영문대소문자, 숫자만 입력 가능합니다.")) return false;
//  		if(!checkOnlyNumber('ifcgReferenceI1', 2, 1, 1, -128, 127, "예비1 (Int type)은 숫자(-128~127)만 입력 가능합니다.")) return false;
//  		if(!checkOnlyNumber('ifcgReferenceI2', 2, 1, 1, -128, 127, "예비2 (Int type)은 숫자(-128~127)만 입력 가능합니다.")) return false;
//  		if(!checkOnlyNumber('ifcgReferenceI3', 2, 1, 1, -128, 127, "예비3 (Int type)은 숫자(-128~127)만 입력 가능합니다.")) return false;
//  		if(!checkOnlyNumber('ifcgReferenceI4', 2, 1, 1, -128, 127, "예비4 (Int type)은 숫자(-128~127)만 입력 가능합니다.")) return false;
 		ifrlContents.value = ifrlContentsEditor.getHTML();
	    ifrlDesc.value = ifrlDescEditor.getHTML();
	}

	
	upload = function() {
		
		alert("asdasdf");
	
	}
</script>

<script src="/xdm/v1/js/includeXdmForm.js"></script>

</body>
</html>