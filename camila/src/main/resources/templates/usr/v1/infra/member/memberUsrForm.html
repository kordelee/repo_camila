<!DOCTYPE html>
<html lang="ko">
<div th:replace="~{usr/v1/mallbicycle/include/includeUsrHead :: includeUsrHead}"></div>

<body>

<!-- skippy -->
<a id="skippy" class="skippy visually-hidden-focusable overflow-hidden" href="#content">
    <div class="container">
        <span class="u-skiplink-text">Skip to main content</span>
    </div>
</a>
<!-- End skippy -->
<!-- Preload -->
<!--<div id="loading" class="loading-preloader">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
--><!-- End Preload -->

<!-- 
========================
    Wrapper 
========================
-->
<div class="wrapper">
    <!-- heder height -->
    <div class="header-height-bar"></div>
    
<!-- includeUsrGnb s -->
<div th:replace="~{usr/v1/infra/include/top :: top}"></div>  
<!-- includeUsrGnb e -->  

<!-- Main -->
        <main>
        
            <!-- Breadcrumb -->
            <div class="py-3 bg-gray-100">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6 my-2">
                            <h1 class="m-0 h4 text-center text-lg-start">개인정보</h1>
                        </div>
                        <div class="col-lg-6 my-2">
                            <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                                <li class="breadcrumb-item">My Page</a></li>
                                <li class="breadcrumb-item text-nowrap" aria-current="page">개인정보</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Breadcrumb -->
            
            <!-- Shop -->
            <section class="py-6">
                <div class="container">
                    <div class="row">

<!-- includeUsrLeft s -->
<div th:replace="~{usr/v1/mallbicycle/include/includeUsrLeftMypage :: includeUsrLeftMypage}"></div>
<!-- includeUsrLeft e -->    

						<!-- Product Box -->
						<div class="col-lg-8 col-xl-9">

<!-- <div id="lita"></div> -->		<!-- #-> -->  

<!-- Form Contents -->
<div class="shop-top-bar d-flex pb-3">
    <div class="layout-change">

        <!-- Mobile Toggle -->
        <button class="btn btn-sm d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#shop_filter" aria-controls="shop_filter">
            <i class="fs-4 lh-1 bi bi-justify-left"></i>
        </button>
        <!-- End Mobile Toggle -->
        
        <!-- <a class="btn btn-sm active" href="#"><i class="bi bi-grid"></i></a> -->
        <!-- <a class="btn btn-sm" href=""><i class="bi bi-arrow-repeat"></i></a> -->
    </div>  
</div>
<form id="form" name="form" method="post" autocomplete="off">
	<div class="row g-3">
		<div class="card">
			<div class="card-body">
				<div class="row">
					<input id="ifmmSeq" name="ifmmSeq" type="hidden" th:value="${item.ifmmSeq}">
					<div class="col-sm-6 mb-3">
						<label class="form-label">아이디<span class="text-danger">*</span></label>
						<input id="ifmmId" name="ifmmId" type="text" class="form-control" th:value="${item.ifmmId}" disabled="disabled">
						<div class="invalid-feedback" id="ifmmIdFeedback"></div>
					</div>
					<div class="col-sm-6 mb-3">
						<label class="form-label">이메일<span class="text-danger">*</span></label>
						<input id="ifmeEmailFull" name="ifmeEmailFull" type="text" class="form-control" th:value="${item.ifmeEmailFull}" disabled="disabled">
						<div class="invalid-feedback" id="ifmeEmailFullFeedback"></div>
					</div>
					<div class="col-sm-6 mb-3">
						<label class="form-label">이름<span class="text-danger">*</span></label>
						<input id="ifmmName" name="ifmmName" type="text" class="form-control" th:value="${item.ifmmName}">
						<div class="invalid-feedback" id="ifmmNameFeedback"></div>
					</div>
					<div class="col-sm-6 mb-3">
						<label class="form-label">성별<span class="text-danger">*</span></label>
						<select id="ifmmGenderCd" name="ifmmGenderCd" class="form-select">
<!-- 							<option value="">선택하세요</option> -->
							<option th:each="list : ${@redisService.selectListCodeInRedisList(3)}" th:value="${list.ifcdSeq}" th:text="${list.ifcdName}" th:selected="${list.ifcdSeq} == ${item?.ifmmGenderCd}"></option>
						</select>
						<div class="invalid-feedback" id="ifmmGenderCdFeedback"></div>
<!-- 						<input id="ifmmGenderCd" name="ifmmGenderCd" type="text" class="form-control" th:value="${item.ifmmGenderCd}"> -->
					</div>
					<div class="col-sm-6 mb-3">
						<label class="form-label">생년월일<span class="text-danger">*</span></label>
						<input id="ifmmDob" name="ifmmDob" type="text" class="form-control" th:value="${item.ifmmDob}">
						<div class="invalid-feedback" id="ifmmDobFeedback"></div>
					</div>
					<div class="col-sm-6 mb-3">
						<label class="form-label">핸드폰(예정)<span class="text-danger">*</span></label>
						<input id="ifmpNumber" name="ifmpNumber" type="text" class="form-control" th:value="${item.ifmpNumber}">
					</div>
					<div class="col-12 pt-2">
						<button id="btnUpdt" class="btn btn-primary">Save changes</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>
<!-- Form Contents -->
                            
                        </div>
                        <!-- End Product Box -->
                    </div>
                </div>
            </section>
            <!-- End Shop -->
      
        </main>
        <!-- End Main -->
    
<!-- includeUsrFooter s -->
<div th:replace="~{usr/v1/mallbicycle/include/includeUsrFooter :: includeUsrFooter}"></div>
<!-- includeUsrFooter e -->   

</div>
<!-- 
========================
    End Wrapper 
========================
-->
<!-- includeUsrLinkJs s -->
<div th:replace="~{usr/v1/mallbicycle/include/includeUsrLinkJs :: includeUsrLinkJs}"></div>
<!-- includeUsrLinkJs e -->
<script>
	window.addEventListener('load', function() {
		$("#ifmmDob").datetimepicker({
			timepicker:false,
				format: 'Y-m-d'
		});
	});
	
	document.getElementById("btnUpdt").onclick = function(){
		if(validationInst() == false) return false;
		form.action = "/v1/infra/member/memberUsrUpdt";
		form.submit();
	}
	
	function validationInst() {
	    if(validationUpdt() == false) return false;
	}
	
	
	function validationUpdt() {
		if(!checkId('ifmmId', 2, 0, "아이디 형식에 맞게 입력하세요")) return false;
		if(!checkNull('ifmmName', 2, 0, "이름을 입력 해주세요")) return false;
		if(!checkSelectNull('ifmmGenderCd', 2, "성별을 선택해주세요")) return false;
		if(!checkNull('ifmmDob', 2, 0, "생년월일을 입력해주세요")) return false;
		if(!checkEmail('ifmeEmailFull', 2, 0, "이메일 형식에 맞게 입력하세요")) return false;
	}
</script>
</body>

</html>